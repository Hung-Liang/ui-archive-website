<!DOCTYPE html>
<html>
  <head>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-6RK6CC0PRD"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-6RK6CC0PRD");
    </script>
    <meta charset="UTF-8" />
    <title data-i18n="stream_of_the_month_title">Stream of the Month</title>
    <link rel="icon" href="../asset/icon.png" type="image/png" />
    <style>
      /* 這裡可以放 month.html 獨有的 CSS 樣式，
         render.js 會注入共用的樣式 */
      /* Language Selector Styles */
      .language-selector {
        position: absolute;
        top: 20px;
        left: 30px;
        z-index: 10;
      }

      .language-selector select {
        padding: 8px 12px;
        border-radius: 5px;
        border: 1px solid #ddd;
        background-color: #f8f8f8;
        font-size: 0.9em;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        appearance: none; /* Remove default select arrow */
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23333%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.3%203.2-16.1%208.1-3.8%204.9-4.5%2011.6-2%2017.7l128%20192c3.6%205.4%209.7%208.7%2016.4%208.7s12.9-3.3%2016.4-8.7l128-192c2.5-6.1%201.8-12.8-2-17.7z%22%2F%3E%3C%2Fsvg%3E");
        background-repeat: no-repeat;
        background-position: right 8px top 50%;
        background-size: 12px auto;
        padding-right: 30px; /* Make space for the custom arrow */
      }

      .language-selector select:hover {
        background-color: #e9e9e9;
      }
    </style>
  </head>
  <body>
    <img
      src="../asset/left_image.png"
      alt="Left Decor Image"
      class="side-image left"
    />
    <img
      src="../asset/right_image.png"
      alt="Right Decor Image"
      class="side-image right"
    />

    <div class="container">
      <div class="language-selector">
        <select id="language-select"></select>
      </div>

      <a
        href="javascript:history.back()"
        class="back-to-prev-button"
        data-i18n="back_button"
        >← Back</a
      >

      <div class="top-right-buttons">
        <a href="../index.html" class="action-button" data-i18n="home_button"
          >Home</a
        >
      </div>

      <div id="video-list"></div>

      <div class="footer-info">
        <div id="last-update-info" class="last-update-info">
          <span data-i18n="last_updated">Last Updated</span>:
          <span id="last-update-date">Loading...</span>
        </div>
        <div class="developer-info">
          <span data-i18n="developer">Developer</span>:
          <a href="https://github.com/Hung-Liang" target="_blank">Hung-Liang</a>
        </div>
      </div>
    </div>

    <script src="../scripts/language.js"></script>
    <script src="../scripts/render.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", async () => {
        // Initialize language
        await loadTranslations();
        applyTranslations();

        const lastUpdateDateSpan = document.getElementById("last-update-date");

        // 載入最後更新日期
        fetch("../data/last_update.json")
          .then((res) => {
            if (!res.ok) {
              throw new Error(`HTTP error! status: ${res.status}`);
            }
            return res.json();
          })
          .then((data) => {
            if (data && data.last_update) {
              lastUpdateDateSpan.textContent = data.last_update;
            } else {
              lastUpdateDateSpan.textContent = "Unable to load";
              lastUpdateDateSpan.setAttribute("data-i18n", "unable_to_load");
            }
            applyTranslations();
          })
          .catch((error) => {
            console.error("Error fetching last_update.json:", error);
            lastUpdateDateSpan.textContent = "Unable to load";
            lastUpdateDateSpan.setAttribute("data-i18n", "unable_to_load");
            applyTranslations();
          });
      });
    </script>
  </body>
</html>
